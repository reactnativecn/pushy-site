{"componentChunkName":"component---src-templates-docs-tsx","path":"/docs/getting-started.html","result":{"data":{"markdownRemark":{"html":"<p>首先你应该有一个基于React Native开发的应用，我们把具有package.json的目录叫做你的\"应用根目录\"。</p>\n<p>如果你还没有初始化应用，请参阅<a href=\"https://reactnative.cn/docs/getting-started\">开始使用React Native</a>。</p>\n<p>所以我们也假设你已经拥有了开发React Native应用的一切环境，包括<code>Node.js</code>、<code>XCode</code>、<code>Android SDK</code>等等。</p>\n<h2 id=\"安装\" style=\"position:relative;\"><a href=\"#%E5%AE%89%E8%A3%85\" aria-label=\"安装 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安装</h2>\n<p>在你的项目根目录下运行以下命令：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 全局安装命令行工具，每台电脑只用装一次</span>\n<span class=\"token function\">npm</span> i -g react-native-update-cli\n\n<span class=\"token comment\"># 在项目中安装热更新模块</span>\n<span class=\"token function\">npm</span> i react-native-update</code></pre></div>\n<blockquote>\n<p>如果下载极慢或者显示网络失败，请设置使用淘宝镜像<code>npx nrm use taobao</code></p>\n</blockquote>\n<p>如果你的RN版本 >= 0.60，请在iOS目录下执行:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pod <span class=\"token function\">install</span></code></pre></div>\n<p>如果你的RN版本 &#x3C; 0.60，那么还需要<a href=\"#%E6%89%8B%E5%8A%A8link\">手动link</a></p>\n<blockquote>\n<p>注意：如果是混编RN项目，由于目前官方集成文档并不完善，参照官方文档可能无法实现自动link功能。此时即便RN版本 >= 0.60，你可能也需要执行手动link操作。</p>\n</blockquote>\n<details>\n<summary>\n如果你的RN版本比较老（< 0.46），请点击这里的注意事项\n</summary>\n<p>如果你的RN版本比较老，请按下面表格尝试老一些的版本（但这些版本我们已不再维护，不能保证可以使用）：</p>\n<table>\n<thead>\n<tr>\n<th>React Native版本</th>\n<th>react-native-update版本</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0.26及以下</td>\n<td>1.0.x</td>\n</tr>\n<tr>\n<td>0.27 - 0.28</td>\n<td>2.x</td>\n</tr>\n<tr>\n<td>0.29 - 0.33</td>\n<td>3.x</td>\n</tr>\n<tr>\n<td>0.34 - 0.45</td>\n<td>4.x</td>\n</tr>\n</tbody>\n</table>\n<p>安装命令示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i react-native-update@4.x</code></pre></div>\n<p>如果RN的版本是0.45及以下，你还必须安装<a href=\"http://androiddevtools.cn\">Android NDK</a>，版本最好选用r10e，并设置环境变量<code>ANDROID_NDK_HOME</code>，指向你的NDK根目录(例如<code>/Users/tdzl2003/Downloads/android-ndk-r10e</code>)。</p>\n</details>\n<blockquote>\n<p>请记得，任意在ios和android目录下的修改，一定要重新编译（npx react-native run-ios或run-android命令编译，或在Xcode/Android Studio中重新编译）才能生效。</p>\n</blockquote>\n<h2 id=\"手动link\" style=\"position:relative;\"><a href=\"#%E6%89%8B%E5%8A%A8link\" aria-label=\"手动link permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>手动link</h2>\n<p>如果RN版本 >= 0.60则不需要此手动link步骤。</p>\n<blockquote>\n<p>注意：如果是混编RN项目，由于目前官方集成文档并不完善，参照官方文档可能无法实现自动link功能。此时即便RN版本 >= 0.60，你可能也需要执行手动link操作。</p>\n</blockquote>\n<h3 id=\"ios\" style=\"position:relative;\"><a href=\"#ios\" aria-label=\"ios permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iOS</h3>\n<details>\n<summary>RN < 0.60且使用CocoaPods（推荐）</summary>\n<ol>\n<li>\n<p>在ios/Podfile中添加</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pod &#39;react-native-update&#39;, path: &#39;../node_modules/react-native-update&#39;</code></pre></div>\n</li>\n<li>在项目的ios目录下运行<code>pod install</code></li>\n<li>重新编译</li>\n</ol>\n</details>\n<details>\n<summary>RN < 0.60且不使用CocoaPods</summary>\n<ol>\n<li>在XCode中的Project Navigator里,右键点击<code>Libraries</code> ➜ <code>Add Files to [你的工程名]</code></li>\n<li>进入<code>node_modules</code> ➜ <code>react-native-update</code> ➜ <code>ios 并选中</code>RCTPushy.xcodeproj`</li>\n<li>在XCode中的project navigator里,选中你的工程,在 <code>Build Phases</code> ➜ <code>Link Binary With Libraries</code> 中添加 <code>libRCTPushy.a</code>、<code>libz.tbd</code>、<code>libbz2.1.0.tbd</code></li>\n<li>继续在<code>Build Settings</code>里搜索<code>Header Search Path</code>，添加<code>$(SRCROOT)/../node_modules/react-native-update/ios</code>，勾选<code>recursive</code>。</li>\n<li>\n<p>在<code>Build Phases</code>添加一个<code>New Run Script Phase</code>运行脚本，内容如下</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#!/bin/bash\nset -x\nDEST=&quot;../node_modules/react-native-update/ios/&quot;\ndate +%s &gt; &quot;$DEST/pushy_build_time.txt&quot;</code></pre></div>\n</li>\n<li>尝试编译一下，顺利的话就会在<code>../node_modules/react-native-update/ios/</code>文件夹下面生成一个<code>pushy_build_time.txt</code>文件。\n然后在<code>Copy Bundle Resources</code>里把生成的<code>pushy_build_time.txt</code>文件添加进去。</li>\n</ol>\n</details>\n<h3 id=\"android\" style=\"position:relative;\"><a href=\"#android\" aria-label=\"android permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Android</h3>\n<details>\n<summary>RN < 0.60</summary>\n<ol>\n<li>\n<p>在<code>android/settings.gradle</code>中添加如下代码:  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">```\ninclude &#39;:react-native-update&#39;\nproject(&#39;:react-native-update&#39;).projectDir = new File(rootProject.projectDir, \t&#39;../node_modules/react-native-update/android&#39;)\n```</code></pre></div>\n</li>\n<li>\n<p>在<code>android/app/build.gradle</code>的 dependencies 部分增加如下代码:  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">```</code></pre></div>\n<p>implementation project(':react-native-update')</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"></code></pre></div>\n</li>\n<li>打开<code>android/app/src/main/java/[...]/MainApplication.java</code>,</li>\n<li>在文件开头增加 <code>import cn.reactnative.modules.update.UpdatePackage;</code></li>\n<li>\n<p>在<code>getPackages()</code> 方法中增加 <code>new UpdatePackage()</code>(注意上一行可能要增加一个逗号)</p>\n</details>\n</li>\n</ol>\n<h2 id=\"配置bundle-url\" style=\"position:relative;\"><a href=\"#%E9%85%8D%E7%BD%AEbundle-url\" aria-label=\"配置bundle url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置Bundle URL</h2>\n<p>注意此步骤无论任何版本，目前都需要手动配置。</p>\n<h3 id=\"ios-1\" style=\"position:relative;\"><a href=\"#ios-1\" aria-label=\"ios 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iOS</h3>\n<p>在你的AppDelegate.m文件中增加如下代码：</p>\n<div class=\"gatsby-highlight\" data-language=\"objectivec\"><pre class=\"language-objectivec\"><code class=\"language-objectivec\"><span class=\"token comment\">// ... 其它代码</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">import</span> \"AppDelegate.h\"</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">import</span> \"RCTPushy.h\"  </span><span class=\"token comment\">// &lt;-- import头文件，注意要放到if条件外面</span>\n\n<span class=\"token comment\">// 可能项目里有一些条件编译语句，例如像较新版本RN自带的flipper</span>\n<span class=\"token comment\">// #if DEBUG</span>\n<span class=\"token comment\">// 注意**不要**在这里面引入\"RCTPushy.h\"</span>\n<span class=\"token comment\">// #import &lt;FlipperKit/FlipperClient.h></span>\n<span class=\"token comment\">// ...</span>\n<span class=\"token comment\">// #endif</span>\n\n\n<span class=\"token comment\">// 如果RN版本 >= 0.59，修改sourceURLForBridge</span>\n<span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>NSURL <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>sourceURLForBridge<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>RCTBridge <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>bridge\n<span class=\"token punctuation\">{</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">if</span> DEBUG</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>RCTBundleURLProvider sharedSettings<span class=\"token punctuation\">]</span> jsBundleURLForBundleRoot<span class=\"token punctuation\">:</span><span class=\"token string\">@\"index\"</span> fallbackResource<span class=\"token punctuation\">:</span>nil<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">else</span></span>\n  <span class=\"token comment\">// 非DEBUG情况下替换为热更新bundle</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>RCTPushy bundleURL<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 如果RN版本 &lt; 0.59，修改didFinishLaunchingWithOptions</span>\n<span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>BOOL<span class=\"token punctuation\">)</span>application<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>UIApplication <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>application didFinishLaunchingWithOptions<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>NSDictionary <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>launchOptions\n<span class=\"token punctuation\">{</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">if</span> DEBUG</span>\n  <span class=\"token comment\">// 原来的jsCodeLocation保留在这里</span>\n  jsCodeLocation <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">else</span></span>\n  <span class=\"token comment\">// 非DEBUG情况下替换为热更新bundle</span>\n  jsCodeLocation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>RCTPushy bundleURL<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n  <span class=\"token comment\">// ... 其它代码</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"android-1\" style=\"position:relative;\"><a href=\"#android-1\" aria-label=\"android 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Android</h3>\n<p>在MainApplication中增加如下代码（如果是混编原生的项目或其他原因没有使用ReactApplication，请<a href=\"api.html#updatecontextsetcustominstancemanagerreactinstancemanager-instancemanager\">使用此api集成</a>)：</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// ... 其它代码</span>\n\n<span class=\"token comment\">// 请注意不要少了这句import</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">cn<span class=\"token punctuation\">.</span>reactnative<span class=\"token punctuation\">.</span>modules<span class=\"token punctuation\">.</span>update</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">UpdateContext</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MainApplication</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Application</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ReactApplication</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ReactNativeHost</span> mReactNativeHost <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ReactNativeHost</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 注意这一段在 ReactNativeHost 内部！</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getJSBundleFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">UpdateContext</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBundleUrl</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MainApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// ... 其它代码</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>请记得，任意在ios和android目录下的修改，一定要重新编译（npx react-native run-ios或run-android命令编译，或在Xcode/Android Studio中重新编译）才能生效。</p>\n</blockquote>\n<h2 id=\"禁用android的crunch优化\" style=\"position:relative;\"><a href=\"#%E7%A6%81%E7%94%A8android%E7%9A%84crunch%E4%BC%98%E5%8C%96\" aria-label=\"禁用android的crunch优化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>禁用android的crunch优化</h2>\n<p>android会在生成apk时自动对png图片进行压缩，此操作既耗时又影响增量补丁的生成。为了保证补丁能正常生成，您需要在<code>android/app/build.gradle</code>中关闭此操作：</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">...\nandroid {\n    ...\n    signingConfigs { ... }\n    buildTypes {\n        release {\n            ...\n            // 添加下面这行以禁用crunch\n            crunchPngs false\n        }\n    }\n}\n...</code></pre></div>\n<h2 id=\"登录与创建应用\" style=\"position:relative;\"><a href=\"#%E7%99%BB%E5%BD%95%E4%B8%8E%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8\" aria-label=\"登录与创建应用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>登录与创建应用</h2>\n<p>首先请在<a href=\"https://update.reactnative.cn\">https://update.reactnative.cn</a>注册帐号，然后在你的项目根目录下运行以下命令：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pushy login\nemail: <span class=\"token operator\">&lt;</span>输入你的注册邮箱<span class=\"token operator\">></span>\npassword: <span class=\"token operator\">&lt;</span>输入你的密码<span class=\"token operator\">></span></code></pre></div>\n<p>这会在项目文件夹下创建一个<code>.update</code>文件，注意不要把这个文件上传到Git等CVS系统上。你可以在<code>.gitignore</code>末尾增加一行<code>.update</code>来忽略这个文件。</p>\n<p>登录之后可以创建应用。注意iOS平台和安卓平台需要分别创建：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pushy createApp --platform ios\nApp Name: <span class=\"token operator\">&lt;</span>输入应用名字<span class=\"token operator\">></span>\n$ pushy createApp --platform android\nApp Name: <span class=\"token operator\">&lt;</span>输入应用名字<span class=\"token operator\">></span></code></pre></div>\n<blockquote>\n<p>两次输入的名字可以相同，这没有关系。</p>\n</blockquote>\n<p>如果你已经在网页端或者其它地方创建过应用，也可以直接选择应用：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pushy selectApp --platform ios\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> 鱼多多<span class=\"token punctuation\">(</span>ios<span class=\"token punctuation\">)</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> 招财旺<span class=\"token punctuation\">(</span>ios<span class=\"token punctuation\">)</span>\n\nTotal <span class=\"token number\">2</span> ios apps\nEnter appId: <span class=\"token operator\">&lt;</span>输入应用前面的编号<span class=\"token operator\">></span></code></pre></div>\n<p>选择或者创建过应用后，你将可以在文件夹下看到<code>update.json</code>文件，其内容类似如下形式：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"ios\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"appId\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"appKey\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"&lt;一串随机字符串>\"</span>\n    <span class=\"token punctuation\">}</span>,\n    <span class=\"token string\">\"android\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"appId\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>,\n        <span class=\"token string\">\"appKey\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"&lt;一串随机字符串>\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>你可以安全的把<code>update.json</code>上传到Git等CVS系统上，与你的团队共享这个文件，它不包含任何敏感信息。当然，他们在使用任何功能之前，都必须首先输入<code>pushy login</code>进行登录。</p>\n<p>至此应用的创建/选择就已经成功了。下一步，你需要给代码添加相应的功能，请参阅<a href=\"integration\">代码集成</a>。</p>","tableOfContents":"<ul>\n<li><a href=\"/docs/getting-started/#%E5%AE%89%E8%A3%85\">安装</a></li>\n<li>\n<p><a href=\"/docs/getting-started/#%E6%89%8B%E5%8A%A8link\">手动link</a></p>\n<ul>\n<li><a href=\"/docs/getting-started/#ios\">iOS</a></li>\n<li><a href=\"/docs/getting-started/#android\">Android</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/docs/getting-started/#%E9%85%8D%E7%BD%AEbundle-url\">配置Bundle URL</a></p>\n<ul>\n<li><a href=\"/docs/getting-started/#ios-1\">iOS</a></li>\n<li><a href=\"/docs/getting-started/#android-1\">Android</a></li>\n</ul>\n</li>\n<li><a href=\"/docs/getting-started/#%E7%A6%81%E7%94%A8android%E7%9A%84crunch%E4%BC%98%E5%8C%96\">禁用android的crunch优化</a></li>\n<li><a href=\"/docs/getting-started/#%E7%99%BB%E5%BD%95%E4%B8%8E%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8\">登录与创建应用</a></li>\n</ul>","frontmatter":{"title":"安装配置","order":0,"type":"快速入门"},"fields":{"path":"/docs/getting-started.md","slug":"/docs/getting-started","modifiedTime":1623035797533}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"常见问题","order":23,"type":"其他"},"fields":{"slug":"/docs/faq","path":"/docs/faq.md"}}},{"node":{"frontmatter":{"title":"更新日志","order":22,"type":"其他"},"fields":{"slug":"/docs/changelog","path":"/docs/changelog.md"}}},{"node":{"frontmatter":{"title":"场景实践","order":13,"type":"开发指南"},"fields":{"slug":"/docs/bestpractice","path":"/docs/bestpractice.md"}}},{"node":{"frontmatter":{"title":"命令行工具","order":12,"type":"开发指南"},"fields":{"slug":"/docs/cli","path":"/docs/cli.md"}}},{"node":{"frontmatter":{"title":"API参考","order":11,"type":"开发指南"},"fields":{"slug":"/docs/api","path":"/docs/api.md"}}},{"node":{"frontmatter":{"title":"发布热更新","order":2,"type":"快速入门"},"fields":{"slug":"/docs/publish","path":"/docs/publish.md"}}},{"node":{"frontmatter":{"title":"代码集成","order":1,"type":"快速入门"},"fields":{"slug":"/docs/integration","path":"/docs/integration.md"}}},{"node":{"frontmatter":{"title":"安装配置","order":0,"type":"快速入门"},"fields":{"slug":"/docs/getting-started","path":"/docs/getting-started.md"}}}]}},"pageContext":{"slug":"/docs/getting-started","type":"/docs/"}},"staticQueryHashes":[]}